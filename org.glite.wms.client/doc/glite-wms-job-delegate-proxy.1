.\" PLEASE DO NOT MODIFY THIS FILE! It was generated by raskman version: 1.1.0
.TH GLITE-WMS-JOB-DELEGATE-PROXY "1" "GLITE-WMS-JOB-DELEGATE-PROXY" "GLITE WMS User Command"
.SH NAME: 
 glite-wms-job-delegate-proxy
.SH SYNOPSIS
.B glite-wms-job-delegate-proxy
[\fIoptions\fR]

.HP
\fB--version\fR
.HP
\fB--help\fR
.HP
\fB--config\fR, \fB-c\fR
<configfile>
.HP
\fB--vo\fR
<voname>
.HP
\fB--debug\fR
.HP
\fB--logfile\fR
<filepath>
.HP
\fB--noint\fR
.HP
\fB--delegationid\fR, \fB-d\fR
<idstring>
.HP
\fB--autm-delegation\fR, \fB-a\fR
.HP
\fB--endpoint\fR, \fB-e\fR
<serviceURL>
.HP
\fB--output\fR, \fB-o\fR
<filepath>

.SH DESCRIPTION

allows delegating a user proxy to the WMProxy service. The user can either specify
the delegationId to be associated with the delegated proxy by using the --delegationid option:

glite-wms-job-delegate-proxy -d mydelegationID

or make the command automatically generate an ID by using the --autm-delegation option.

One of these two options is mandatory.
If a delegation with the same id and belonging to the same user already exists in the WMProxy service, the new proxy will overwrite the one associated to that delegation id.
Credential delegation with the same id used for a proxy belonging to another user is possible..SH OPTIONS
.HP
\fB--version\fR

.IP
displays WMProxy client and servers version numbers.
If the --endpoint option is specified only this service is contacted to retrieve its version. If it is not used, the endpoint contacted is that one specified with GLITE_WMS_WMPROXY_ENDPOINT environment variable. If the option is not specified and the environment variable is not set, all servers listed in the WMProxyEndPoints attribute of the user configuration file are contacted. For each of these service, the returned result will be displayed on the standard output (the version numbers in case of success; otherwise the error message).
.PP
.HP
\fB--help\fR

.IP
displays command usage
.PP
.HP
\fB--config\fR, \fB-c\fR
<configfile>

.IP
if the command is launched with this option, the configuration file pointed by configfile is used. This option is meaningless when used together with "--vo" option
.PP
.HP
\fB--vo\fR
<voname>

.IP
this option allows the user to specify the Virtual Organisation she/he is currently working for.
If the user proxy contains VOMS extensions then the VO specified through this option is overridden by the
default VO contained in the proxy (i.e. this option is only useful when working with non-VOMS proxies).
This option is meaningless when used together with "--vo" option
.PP
.HP
\fB--debug\fR

.IP
when this option is specified, debugging information is displayed on the standard output and written also either into the default log file:

glite-wms-job-<command_name>_<uid>_<pid>_<time>.log

located under the /var/tmp directory or in the log file specified with --logfile option.
.PP
.HP
\fB--logfile\fR
<filepath>

.IP
When this option is specified, a command log file (whose pathname is filepath) is created.
.PP
.HP
\fB--noint\fR

.IP
if this option is specified, every interactive question to the user is skipped and the operation is continued (when possible)
.PP
.HP
\fB--delegationid\fR, \fB-d\fR
<idstring>

.IP
if this option is specified, the operations on the WMProxy service will be associated to the credential previously delegated with the id_string delegation string.It must be used in place of --autm-delegation option.
.PP
.HP
\fB--autm-delegation\fR, \fB-a\fR

.IP
this option is specified to make automatic generation of the identifier string (delegationid) that will be associated to the delegated proxy. It must be used in place of the --delegationId (-d) option.
.PP
.HP
\fB--endpoint\fR, \fB-e\fR
<serviceURL>

.IP
when this option is specified, the operations are performed contacting the WMProxy service represented by the given serviceURL. If it is not used, the endpoint contacted is that one specified by the GLITE_WMS_WMPROXY_ENDPOINT environment variable. If both this option is not specified and the environment variable is not set, the service request will be sent to one of the endpoints listed in the WMProxyEndPoints attribute in the user configuration file (randomly chosen among the URLs of the attribute list). If the chosen service is not available, a succession of attempts are performed on the other specified services until the connection with one of these endpoints can be established or all services have been contacted without success. In this latter case the operation can not be obviously performed and the execution of the command is stopped with an error message.
.PP
.HP
\fB--output\fR, \fB-o\fR
<filepath>

.IP
if this option is specified, the following information is saved in the file specified by filepath: date and time the delegation operation was performed; WMProxy service URL;  id_string associated to the delegated proxy. filepath can be either a simple name or an absolute path (on the submitting machine). In the former case the file is created in the current working directory.
.PP
.SH ENVIRONMENT

GLITE_WMS_CLIENT_CONFIG:  This variable may be set to specify the path location of the configuration file

GLITE_WMS_LOCATION:  This variable must be set when the Glite WMS installation is not located in the default paths: either /opt/glite or /usr/local

GLITE_LOCATION: This variable must be set when the Glite installation is not located in the default paths: either  /opt/glite or /usr/local

GLITE_WMS_WMPROXY_ENDPOINT	This variable may be set to specify the endpoint URL

X509_CERT_DIR: This variable may be set to override the default location of the trusted certificates directory, which is normally /etc/grid-security/certificates

X509_USER_PROXY: This variable may be set to override the default location of the user proxy credentials, which is normally /tmp/x509up_u<uid>.
.SH FILES

voName/glite_wms.conf		The user configuration file. The standard path location is $GLITE_WMS_LOCATION/etc (or $GLITE_LOCATION/etc); different configuration files
can be specified by either using the --config option or setting the GLITE_WMS_CLIENT_CONFIG environment variable

/tmp/x509up_u<uid>.A valid X509 user proxy; use the X509_USER_PROXY environment variable to override the default location
JDL file. The file (containing the description of the job in the JDL language located in the path specified by jdl_file (the last argument of this command); multiple jdl files can be used with the --collection option.SH AUTHORS

Alessandro Maraschini , Marco Sottilaro (egee@datamat.it).SH EXAMPLES

1) delegates the user credential with "exID" identifier :
glite-wms-job-delegate -d exID

2) delegates the user  credential with "exID" identifier  to the WMProxy service specified with the -e option:
glite-wms-job-delegate -d exID -e https://wmproxy.glite.it:7443/glite_wms_wmproxy_server

3) delegates the user credential automatically generating the id string :
glite-wms-job-delegate -a

4) delegates the user credential to the WMProxy service specified with the -e option automatically generating the id string  :
glite-wms-job-delegate -a -e https://wmproxy.glite.it:7443/glite_wms_wmproxy_server

When --endpoint (-e) is not specified, the search of an available WMProxy service is performed according to the modality reported in the description of the --endpoint option.

