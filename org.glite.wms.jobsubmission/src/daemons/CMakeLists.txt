
include_directories(${CLASSAD_INCLUDE_DIRS}
                    ${PROJECT_SOURCE_DIR}/interface
		    ${PREFIX}/usr/include
		    ${WMSUTILS_CLASSADS_ALT_INCLUDE_DIRS}
		    ${WMSUTILS_CLASSADS_INCLUDE_DIRS}
		    ${WMS_COMMON_CONF_INCLUDE_DIRS}
		    ${PROJECT_SOURCE_DIR}/src
		    ${MAIN_PROJECT_SOURCE_DIR}
                    ${MAIN_PROJECT_SOURCE_DIR}/org.glite.wms.common/stage/usr/include
                    ${MAIN_PROJECT_SOURCE_DIR}/org.glite.wms.purger/stage/usr/include
		    ${LOG4CPP_INCLUDE_DIRS}
		    /usr/include
)

link_directories(${PREFIX}/usr/${LIBDIR}
  ${PROJECT_SOURCE_DIR}/src/common
  ${PROJECT_SOURCE_DIR}/src/controller
  ${PROJECT_SOURCE_DIR}/src/logmonitor
  ${CONDOR_LIBRARY_DIRS}
  ${MAIN_PROJECT_SOURCE_DIR}/common/src/configuration
  ${MAIN_PROJECT_SOURCE_DIR}/common/src/utilities
  ${MAIN_PROJECT_SOURCE_DIR}/common/src/process
  ${MAIN_PROJECT_SOURCE_DIR}/common/src/logger
  ${MAIN_PROJECT_SOURCE_DIR}/purger/src
  ${LOG4CPP_INCLUDE_DIRS}
  /usr/lib
  /usr/lib64
  )

add_executable(glite-wms-job_controller
  jobcontroller.cpp
  ControllerLoop.cpp
  exceptions.cpp  
  )


add_executable(glite-wms-log_monitor
  logmonitor.cpp
  MonitorLoop.cpp
  exceptions.cpp
)

target_link_libraries(glite-wms-job_controller
  glite_wms_jss_logmonitor
  glite_wms_jss_controller
  glite_wms_jss_controller_adapter
  glite_wms_jss_common
  glite_wms_conf
  glite_wms_logger
  glite_wms_process
  glite_wms_util
  glite_wms_purger
  ${WMSUTILS_CLASSADS_LIBRARIES}
  ${WMSUTILS_JOBMAN_EXCEPTION_LIBRARIES}
  ${JDL_API_CPP_LIBRARIES}
  ${JOBID_LIBRARIES}
  ${LB_CLIENT_LIBRARIES}
  ${LB_CLIENTPP_LIBRARIES}
  ${LB_COMMON_LIBRARIES}
  ${CLASSAD_LIBRARIES}
  ${CARES_LIBRARIES}
  ${RENEWAL_LIBRARIES}
  ${Boost_LIBRARIES}
  ${CONDOR_LIBRARIES}
  ${CARES_LIBRARIES}
  ${LOG4CPP_LIBRARIES}
  )


target_link_libraries(glite-wms-log_monitor
  glite_wms_jss_controller
  glite_wms_jss_controller_adapter
  glite_wms_jss_logmonitor
  glite_wms_jss_common
  glite_wms_jss_logmonitor
  glite_wms_conf
  glite_wms_process
  glite_wms_logger
  glite_wms_util
  glite_wms_purger
  ${WMSUTILS_CLASSADS_LIBRARIES}
  ${WMSUTILS_JOBMAN_EXCEPTION_LIBRARIES}
  ${JDL_API_CPP_LIBRARIES}
  ${JOBID_LIBRARIES}
  ${LB_CLIENT_LIBRARIES}
  ${LB_CLIENTPP_LIBRARIES}
  ${LB_COMMON_LIBRARIES}
  ${CLASSAD_LIBRARIES}
  ${CARES_LIBRARIES}
  ${RENEWAL_LIBRARIES}
  ${PURGER_LIBRARIES}
  ${Boost_LIBRARIES}
  ${CONDOR_LIBRARIES}
  ${CARES_LIBRARIES}
  ${LOG4CPP_LIBRARIES}
  )

install(TARGETS 
  glite-wms-log_monitor 
  glite-wms-job_controller
  DESTINATION 
  ${PREFIX}/usr/${BINDIR}
)
