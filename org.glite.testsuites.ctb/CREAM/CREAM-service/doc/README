Python CREAM testing scripts - README
================================================================================

1) Requirements

The CREAM testsuite depends on the following packages:
- ZSI v.2.0, see http://pywebsvcs.sourceforge.net/
- pyopenssl v.0.6, see http://pyopenssl.sourceforge.net/
- log4py v.1.3, see http://sourceforge.net/projects/log4py/
- CREAM command line UI v.1.9 or higher,
  see http://grid.pd.infn.it/cream/field.php
- CEMonitor command line UI v.1.9 or higher, 
  see http://grid.pd.infn.it/cemon/field.php

2) Setup

The following environment variables must be defined:
- GLITE_LOCATION is the path for the gLite installation, it must contain the
  directory bin with the CREAM and CEMonitor command line tools
- PYTHONPATH must contain the paths for ZSI, pyopenssl and log4py modules

According to the type of test the user credentials can be defined with the
environment variables:
- X509_USER_PROXY is the path for the user proxy (certificate chain + key)
or:
- X509_USER_CERT is the path for the user certificate
- X509_USER_KEY is the path for the user private key (passphrase is required)

Each test can be configured using a configuration file, the path of such a
file can be specified by an environment variable, see the man page of the
test for further details.

Whenever a test requires the customization of the log a file log4py.conf is
necessary, here it is a simple example of configuration:

    # Log4Py configuration file
    [Default]
    Format: %T %L %C [%F] - %M
    Target: stdout
    #Target: output.log
    Ansi: False
    LogLevel: Normal

For testing the setup of the testsuite just run a test with the "-h" option:

    cream-test-monitored-submit -h

3) Documentation

The set of man pages for the CREAM testsuite can be extracted from the python 
scripts:

    mkdir -p man/man1
    for testscript in `ls src/cream-test-*`; do
      HELP_FORMAT=GROFF ${testscript} -h > man/man1/`basename ${testscript}`.1
    done
    export MANPATH=MANPATH:$PWD/man

