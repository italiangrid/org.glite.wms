#
# Automatically generated by NCG::ConfigGen::Nagios.pm by root at 2008-11-04T11:08:20Z
#
# Settings:
#     MYPROXY_SERVER_ADDRESS: 128.142.182.84
#     VERBOSE: 1
#     MYPROXY_USER: nagios
#     INCLUDE_LB_NODE: 1
#     OUTPUT_DIR: /etc/nagios/wlcg.d
#     PROXY_FILE: /etc/nagios/globus/userproxy.pem
#     PROBES_TYPE: all
#     CHECK_HOSTS: 1
#     WLCG_PROBES_DIR: /usr/libexec/grid-monitoring/probes
#     RESOURCES_OUTPUT_DIR: /etc/nagios
#     NRPE_UI_ADDRESS: 128.142.130.218
#     MYPROXY_NAME: NagiosRetrieve
#     NRPE_OUTPUT_DIR: /etc/nagios/nrpe/
#     NAGIOS_ADMIN: root@localhost
#     TEMPLATES_DIR: /usr/share/grid-monitoring/config-gen/nagios
#     GLITE_VERSION: 31
#     MYPROXY_SERVER: lxbra2304.cern.ch
#     NAGIOS_SERVER_ADDRESS: 128.142.130.218
#     VO: dteam
#     NRPE_UI: vtb-generic-52.cern.ch
#     USER_OFFSET: 2
#     INCLUDE_HOSTS: 1
#     CHECK_PING: 1
#     WLCG_PLUGINS_DIR: /usr/libexec/grid-monitoring/plugins/nagios
#     NAGIOS_SERVER: vtb-generic-52.cern.ch
#     SITENAME: cert-tb-cern
#

#####
# Notifications commands
#####

define command{
        command_name                    ncg-host-notify-by-email
        command_line                    /usr/bin/printf "%b" "***** Nagios 2.10 *****\n\nNotification Type: $NOTIFICATIONTYPE$\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\nInfo: $HOSTOUTPUT$\n\nDate/Time: $LONGDATETIME$\n" | /bin/mail -s "[WLCG Nagios] Host $HOSTSTATE$ alert for $HOSTNAME$!" $CONTACTEMAIL$
}

define command{
        command_name                    ncg-notify-by-email
        command_line                    /usr/bin/printf "%b" "***** Nagios 2.10 *****\n\nNotification Type: $NOTIFICATIONTYPE$\nService: $SERVICEDESC$\nHost: $HOSTNAME$\nAddress: $HOSTADDRESS$\nState: $SERVICESTATE$\n\nDate/Time: $LONGDATETIME$\n\nAdditional Info:\n\n$SERVICEOUTPUT$" | /bin/mail -s "[WLCG Nagios] Service $SERVICESTATE$ alert for $HOSTNAME$/$SERVICEDESC$!" $CONTACTEMAIL$
}


#####
# Hosts check commands
#####

define command{
        command_name                    ncg_check_tcp
        command_line                    $USER1$/check_tcp -H $HOSTADDRESS$ -p $ARG1$
}

define command{
        command_name                    ncg_check_host_alive
        command_line                    $USER1$/check_ping -H $HOSTADDRESS$ -w 3000.0,80% -c 5000.0,100% -p 1
}

define command{
        command_name                    ncg_check_host_dummy
        command_line                    $USER1$/check_dummy 0 "Host OK"
}


#####
# Services commands
#####

define command{
        command_name                    ncg_check_wlcg
        command_line                    /usr/libexec/grid-monitoring/plugins/nagios/check_wlcg -P /usr/libexec/grid-monitoring/probes/$ARG1$ -u $ARG2$ -m $ARG3$ -t $ARG4$ -o $ARG5$ -x $ARG6$
}

define command{
        command_name                    ncg_check_native
        command_line	                $USER1$/$ARG1$ -H $HOSTADDRESS$ -t $ARG2$ $ARG3$
}

#####
# OCSP commands  
#####

define command {
        command_name handle_service_check
        # $SERVICENOTES$ == SITE-NAME SERVICETYPE SERVICEURI [VO]
        command_line /usr/libexec/grid-monitoring/plugins/nagios/eventhandlers/handle_service_check '$SERVICEDESC$' $SERVICESTATE$ '$SERVICEOUTPUT$' $SERVICENOTES$
}

define command{
        command_name                    ncg_send_to_msg
        command_line	                /usr/libexec/grid-monitoring/plugins/nagios/send_to_msg $ARG1$
}

#####
# Nagios remote commands
#####

define command{
        command_name                    ncg_check_passive
        command_line                    $USER1$/check_dummy 3 "$ARG1$"
}

define command{
        command_name                    ncg_gather_sam
        command_line                    /usr/libexec/grid-monitoring/plugins/nagios/gather_sam -t 120 --site $ARG1$ $ARG2$
}

define command{
        command_name                    ncg_gather_npm
        command_line                    /usr/libexec/grid-monitoring/plugins/nagios/gather_npm -t 120 --site $ARG1$
}

#####
# Nagios local commands
#####

define command{
        command_name                    ncg_check_Nagios
        command_line                    $USER1$/check_Nagios "-H" "lxpub01.jinr.ru" "lxplus.cern.ch"
}

define command{
        command_name                    ncg_LFC-certtest
        command_line                    $USER1$/LFC/LFC-ngs-certtest
}


define command{
        command_name                    ncg_check_cadist
        command_line                    /usr/libexec/grid-monitoring/probes/hr.srce/CAdist-probe -m hr.srce.CAdist-Version -t 120 -n
}

define command{
        command_name                    ncg_check_gridproxy
        command_line                    /usr/libexec/grid-monitoring/probes/hr.srce/GridProxy-probe -m hr.srce.GridProxy-Valid -x $ARG1$ -v $ARG2$ -n
}

#define command{
#        command_name                    ncg_refresh_proxy
#        command_line                    /usr/libexec/grid-monitoring/probes/hr.srce/refresh_proxy -u $ARG2$ -m hr.srce.GridProxy-Get --name $ARG3$ --passfile $ARG4$ --vo $ARG1$ --proxy $ARG5$ -n
#}

define command{
        command_name                    ncg_check_myproxy
        command_line                    /usr/libexec/grid-monitoring/probes/hr.srce/MyProxy-probe -u $HOSTNAME$ -m hr.srce.MyProxy-ProxyLifetime -x $ARG1$ --myproxyuser $ARG2$ --name $ARG3$ -n
}

#####
# NRPE commands
#####

define command{
        command_name                    ncg_check_nrpe_service
        command_line                    $USER1$/check_nrpe -H vtb-generic-52.cern.ch -c $ARG1$ -t $ARG2$
}

define command{
        command_name                    ncg_check_nrpe
        command_line                    $USER1$/check_nrpe -H $HOSTADDRESS$
}

