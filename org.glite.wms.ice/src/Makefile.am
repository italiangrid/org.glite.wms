#
#       Copyright (c) 2004 on behalf of the EU EGEE Project:
#       The European Organization for Nuclear Research (CERN),
#       Istituto Nazionale di Fisica Nucleare (INFN), Italy
#       Datamat Spa, Italy
#       Centre National de la Recherche Scientifique (CNRS), France
#       CS Systeme d'Information (CSSI), France
#       Royal Institute of Technology, Center for Parallel Computers (KTH-PDC), Sweden
#       Universiteit van Amsterdam (UvA), Netherlands
#       University of Helsinki (UH.HIP), Finland
#       University of Bergen (UiB), Norway
#       Council for the Central Laboratory of the Research Councils (CCLRC), United Kingdom
#

SUBDIRS = util ice

bin_PROGRAMS = putFL putFL_cancel glite-wms-ice dumpICECache

putFL_SOURCES = putFL.cpp

putFL_cancel_SOURCES = putFL_cancel.cpp

###test_SOURCES = test.cpp

glite_wms_ice_SOURCES = glite-wms-ice.cpp

dumpICECache_SOURCES = dumpICECache.cpp

### tryJobCache_SOURCES = tryJobCache.cpp

putFL_LDADD = -L$(GLITE_LOCATION)/lib \
		$(LOG4CPP_LIBS) \
		$(BOOST_FS_LIBS) \
		$(BOOST_THREAD_LIBS) \
		$(BOOST_REGEX_LIBS) \
		-lglite_wmsutils_classads \
		-lglite_wms_util \
		$(CLASSAD_LIBS)

putFL_cancel_LDADD = -L$(GLITE_LOCATION)/lib \
		$(LOG4CPP_LIBS) \
		$(BOOST_FS_LIBS) \
		$(BOOST_THREAD_LIBS) \
		$(BOOST_REGEX_LIBS) \
		-lglite_wmsutils_classads \
		-lglite_wms_util \
		$(CLASSAD_LIBS)

###test_LDADD = -L$(GLITE_LOCATION)/lib \
###		-lgridsite_globus \
###		-lxml2 \
###		-lglite_ce_cream_client_soap \
###		-lglite_ce_cream_client_util \
###		$(CLASSAD_LIBS) \
###		-lglite_ce_monitor_client \
###		-lglite_ce_monitor_consumer \
###		-lglite_security_gsoap_plugin_276b_${GLOBUS_THR_FLAVOR} \
###		$(LOG4CPP_LIBS) \
###		$(GLOBUS_THR_LIBS) \
###		../src/util/libglite_wms_ice_util.la \
###		../src/ice/libglite_wms_ice.la \
###		$(GLITE_WMSUTILS_JOBID_LIBS) \
###		$(GLITE_WMS_COMMON_CONF_LIBS) \
###		$(GLITE_WMSUTILS_EXCEPTION_LIBS) \
###		$(GLITE_WMS_COMMON_UT_UTIL_LIBS) \
###		$(GLITE_LB_THR_CLIENT_LIBS) $(GLITE_LB_THR_CLIENTPP_LIBS) \
###		$(GLITE_LB_THR_COMMON_LIBS) \
###		$(BOOST_FS_LIBS) \
###		$(BOOST_THREAD_LIBS) \
###		$(BOOST_REGEX_LIBS)

glite_wms_ice_LDADD = -L$(GLITE_LOCATION)/lib \
		-lgridsite_globus \
		-lxml2 \
		-lglite_ce_cream_client_soap \
		-lglite_ce_cream_client_util \
		$(CLASSAD_LIBS) \
		-lglite_ce_monitor_client \
		-lglite_ce_monitor_consumer \
		-lglite_security_gsoap_plugin_276b_gcc32pthr \
		$(LOG4CPP_LIBS) \
		$(GLOBUS_THR_LIBS) \
		../src/util/libglite_wms_ice_util.la \
		../src/ice/libglite_wms_ice.la \
		-lglite_wmsutils_classads \
		$(GLITE_WMSUTILS_JOBID_LIBS) \
		$(GLITE_WMS_COMMON_CONF_LIBS) \
		$(GLITE_WMSUTILS_EXCEPTION_LIBS) \
		$(GLITE_WMS_COMMON_UT_UTIL_LIBS) \
		$(GLITE_LB_THR_CLIENT_LIBS) $(GLITE_LB_THR_CLIENTPP_LIBS) \
		$(GLITE_LB_THR_COMMON_LIBS) \
		$(BOOST_FS_LIBS) \
		$(BOOST_THREAD_LIBS) \
		$(BOOST_REGEX_LIBS) \
		$(BOOST_PO_LIBS)

dumpICECache_LDADD = -L$(GLITE_LOCATION)/lib \
		-lgridsite_globus \
		-lxml2 \
		-lglite_ce_cream_client_soap \
		-lglite_ce_cream_client_util \
		$(CLASSAD_LIBS) \
		-lglite_ce_monitor_consumer \
		-lglite_ce_monitor_client \
		-lglite_wmsutils_classads \
		-lglite_security_gsoap_plugin_276b_gcc32pthr \
		$(LOG4CPP_LIBS) \
		$(GLOBUS_THR_LIBS) \
		../src/util/libglite_wms_ice_util.la \
		../src/ice/libglite_wms_ice.la \
		$(GLITE_WMSUTILS_JOBID_LIBS) \
		$(GLITE_WMS_COMMON_CONF_LIBS) \
		$(GLITE_WMSUTILS_EXCEPTION_LIBS) \
		$(GLITE_WMS_COMMON_UT_UTIL_LIBS) \
		$(GLITE_LB_THR_CLIENT_LIBS) $(GLITE_LB_THR_CLIENTPP_LIBS) \
	        $(GLITE_LB_THR_COMMON_LIBS) \
		$(BOOST_FS_LIBS) \
		$(BOOST_THREAD_LIBS) \
		$(BOOST_REGEX_LIBS) \
		-lglite_ce_monitor_consumer


###		-lglite_wms_util \
###		-lglite_wms_conf \
###		$(GLITE_LB_THR_CLIENT_LIBS) $(GLITE_LB_THR_CLIENTPP_LIBS) \
###	        $(GLITE_LB_THR_COMMON_LIBS) 

###tryJobCache_LDADD = ../src/util/libglite_wms_ice_util.la \
###			-lglite_ce_cream_client_soap \
###			-lglite_ce_cream_client_util \
###			$(LOG4CPP_LIBS) \
###			$(CLASSAD_LIBS) \
###			-lglite_ce_monitor_consumer

AM_CPPFLAGS = -I$(top_srcdir)/src \
		-I$(top_srcdir)/src/util \
		-I$(top_srcdir)/src/ice \
		-I$(GLITE_LOCATION)/include \
		$(GSOAP_CFLAGS) \
		$(GLOBUS_THR_CFLAGS) \
		$(CLASSAD_CFLAGS) \
		$(BOOST_CFLAGS) \
		-UHAVE_CONFIG_H \
		$(LOG4CPP_CFLAGS) \
		$(GLOBUS_THR_CFLAGS) \
		-pipe

MAINTAINERCLEANFILES = Makefile.in
